
#include <stdint.h>
#include <stdbool.h>
#include <stddef.h>
#include "shapes.h"


// uint32_t charSize = 20;

void shapes_init(void){


	for(uint8_t i = 0; i < MAX_BULLETS; i++) {
		bulletArr[i] = (Object){{0, -10},Bullet};
	}

	for(uint8_t i = 0; i < MAX_ENEMIES; i++) {
		enemyArr[i] = (Object){{0, -10},Enemy};
	}



	enemyArr[MAX_ENEMIES-1] = (Object){{200, 300},Enemy};
	enemyArr[MAX_ENEMIES-2] = (Object){{300, 400},Enemy};
	curEnemyArr[0] = MAX_ENEMIES-1;
	for(uint8_t i = 0; i < MAX_ENEMIES; i++) {
		if(enemyArr[i].origin.y != -10) {
			addEnemy(i);
		}
	}

}

void addEnemy(uint8_t index) {
	curEnemyArr[curEnemy] = index;
	curEnemy += 1;
}

void delEnemy(uint8_t index) {
	curEnemy -= 1;
	curEnemyArr[index] = curEnemyArr[curEnemy];

}

// Shape ship = (Shape){
// 	{
// 	{{0, -3}, 0x000000FF},
// 	{{0, -2}, 0x000000FF},
// 	{{-1, -1}, 0x000000FF}, {{0, -1}, 0x000000FF}, {{1, -1}, 0x000000FF},
// 	{{-1, 0}, 0x000000FF}, {{0, 0}, 0x000000FF}, {{1, 0}, 0x000000FF},
// 	{{-2, 1}, 0x000000FF}, {{-1, 1}, 0x000000FF}, {{0, 1}, 0x000000FF}, {{1, 1}, 0x000000FF}, {{2, 1}, 0x000000FF},
// 	{{-2, 2}, 0x000000FF}, {{-1, 2}, 0x000000FF}, {{0, 2}, 0x000000FF}, {{1, 2}, 0x000000FF}, {{2, 2}, 0x000000FF}
// 	}, 18
	
// };

Object ship = (Object){
	{500, 600},
	Ship
};

// Object enemy = (Object){
// 	{200, 300},
// 	Enemy
// };

Shape objectShapes[3] = { 
	(Shape){{
	{{-4, 4}, 0x000000FF},{{4, 4}, 0x000000FF},
	{{-4, 3}, 0x000000FF},{{4, 3}, 0x000000FF}, {{-1, 3}, 0x00FF0000},{{1, 3}, 0x00FF0000},
	{{-4, 2}, 0x000000FF},{{4, 2}, 0x000000FF}, {{-1, 2}, 0x000000FF},{{1, 2}, 0x000000FF},{{-2, 2}, 0xFFFFFFFF},{{0, 2}, 0xFFFFFFFF},{{2, 2}, 0xFFFFFFFF},
	{{-4, 1}, 0x000000FF},{{4, 1}, 0x000000FF}, {{-1, 1}, 0xFFFFFFFF},{{1, 1}, 0xFFFFFFFF},{{-2, 1}, 0xFFFFFFFF},{{0, 1}, 0xFFFFFFFF},{{2, 1}, 0xFFFFFFFF},
	{{-4, 0}, 0x000000FF},{{4, 0}, 0x000000FF}, {{-1, 0}, 0xFFFFFFFF},{{1, 0}, 0xFFFFFFFF},{{-2, 0}, 0x000000FF},{{0, 0}, 0xFFFFFFFF},{{2, 0}, 0x000000FF},{{-3, 0}, 0x000000FF},{{3, 0}, 0x000000FF},
	{{-1, -1}, 0x00FF0000},{{1, -1}, 0x00FF0000},{{-2, -1}, 0x000000FF},{{0, -1}, 0x00FF0000},{{2, -1}, 0x000000FF},{{-3, -1}, 0x000000FF},{{3, -1}, 0x000000FF},
	{{-4, -2}, 0x000000FF},{{4, -2}, 0x000000FF}, {{-1, -2}, 0xFFFFFFFF},{{1, -2}, 0xFFFFFFFF},{{-2, -2}, 0x000000FF},{{0, -2}, 0xFFFFFFFF},{{2, -2}, 0x000000FF},{{-3, -2}, 0x000000FF},{{3, -2}, 0x000000FF},
	{{-4, -3}, 0x000000FF},{{4, -3}, 0x000000FF}, {{-1, -3}, 0x00FF0000},{{1, -3}, 0x00FF0000},{{0, -3}, 0x00FF0000}, {{-3, -3}, 0x000000FF}, {{3, -3}, 0x000000FF},
	{{-4,-4}, 0x000000FF},{{4,-4}, 0x000000FF}, {{0,-4}, 0x00FF0000},{{-3, -4}, 0x000000FF},{{3, -4}, 0x000000FF},
	}, 57},
	(Shape){{
		{{0, -3}, 0x000000FF},
		{{0, -2}, 0x000000FF},
		{{-1, -1}, 0x000000FF}, {{0, -1}, 0x000000FF}, {{1, -1}, 0x000000FF},
		{{-1, 0}, 0x000000FF}, {{0, 0}, 0x000000FF}, {{1, 0}, 0x000000FF},
		{{-2, 1}, 0x000000FF}, {{-1, 1}, 0x000000FF}, {{0, 1}, 0x000000FF}, {{1, 1}, 0x000000FF}, {{2, 1}, 0x000000FF},
		{{-2, 2}, 0x000000FF}, {{-1, 2}, 0x000000FF}, {{0, 2}, 0x000000FF}, {{1, 2}, 0x000000FF}, {{2, 2}, 0x000000FF}
		}, 18	
	},
	(Shape){
		{{{0, 0}, 0x000000FF}}, 1}
};

Point objectSize[3] = { 
	(Point){(9*PIXEL_SIZE)/2,(9*PIXEL_SIZE)/2},
	(Point){0,0},
	(Point){0,0}
};

Point enemyPath[120] = {{510.841, 684.745}, {501.657, 681.403}, {492.595, 677.741}, {483.667, 673.766}, {474.883, 669.482}, {466.253, 664.894}, {457.789, 660.007}, {449.501, 654.828}, {441.399, 649.363}, {433.492, 643.618}, 
	{425.79, 637.601}, {418.303, 631.319}, {411.04, 624.779}, {404.01, 617.99}, {397.221, 610.96}, {390.681, 603.697}, {384.399, 596.21}, {378.382, 588.508}, {372.637, 580.601}, {367.172, 572.499}, 
	{361.993, 564.211}, {357.106, 555.747}, {352.518, 547.117}, {348.234, 538.333}, {344.259, 529.405}, {340.597, 520.343}, {337.255, 511.159}, {334.235, 501.864}, {331.541, 492.469}, {329.176, 482.986}, 
	{327.144, 473.426}, {325.447, 463.802}, {324.087, 454.123}, {323.065, 444.404}, {322.384, 434.654}, 
	{323.011, 425.222}, {323.522, 415.469}, {325.385, 405.883}, {328.565, 396.649}, {332.998, 387.947}, {338.6, 379.948}, {345.26, 372.805}, {352.85, 366.659}, {361.221, 361.63}, {370.21, 357.814}, 
	{379.643, 355.286}, {389.336, 354.096}, {399.101, 354.266}, {408.747, 355.794}, {418.086, 358.649}, {426.937, 362.777}, {435.127, 368.096}, {442.497, 374.503}, {448.904, 381.873}, {454.223, 390.063}, 
	{458.351, 398.914}, {461.206, 408.253}, {462.734, 417.899}, {462.904, 427.664}, {461.714, 437.357}, {459.186, 446.79}, {455.37, 455.779}, {450.341, 464.15}, {444.195, 471.74}, {437.052, 478.4}, 
	{429.053, 484.002}, {420.351, 488.435}, {411.117, 491.615}, {401.531, 493.478}, {391.778, 493.989}, {382.05, 493.138}, {372.534, 490.941}, {363.417, 487.442}, {354.875, 482.707}, {347.076, 476.83}, 
	{340.17, 469.924}, {334.293, 462.125}, {329.558, 453.583}, {326.059, 444.466},
	{326.059, 434}, {326.059, 424}, {326.059, 414}, {326.059, 404}, {326.059, 394}, {326.059, 384}, {326.059, 374}, {326.059, 364}, {326.059, 354}, {326.059, 344},
	{326.059, 334}, {326.059, 324}, {326.059, 314}, {326.059, 304}, {326.059, 294}, {326.059, 284}, {326.059, 274}, {326.059, 264}, {326.059, 254}, {326.059, 244},
	{326.059, 234}, {326.059, 224}, {326.059, 214}, {326.059, 204}, {326.059, 194}, {326.059, 184}, {326.059, 174}, {326.059, 164}, {326.059, 154}, {326.059, 144}};
