
#include <stdint.h>
#include <stdbool.h>
#include <stddef.h>
#include "shapes.h"


// uint32_t charSize = 20;

void shapes_init(void){


	for(uint8_t i = 0; i < MAX_BULLETS; i++) {
		bulletArr[i] = (Object){{0, -10},Bullet};
	}

	for(uint8_t i = 0; i < MAX_ENEMIES; i++) {
		enemyArr[i] = (Object){{0, -10},Enemy};
	}



	enemyArr[MAX_ENEMIES-1] = (Object){{200, 300},Enemy};
	enemyArr[MAX_ENEMIES-2] = (Object){{300, 400},Enemy};
	curEnemyArr[0] = MAX_ENEMIES-1;
	for(uint8_t i = 0; i < MAX_ENEMIES; i++) {
		if(enemyArr[i].origin.y != -10) {
			addEnemy(i);
		}
	}

}

void addEnemy(uint8_t index) {
	curEnemyArr[curEnemy] = index;
	curEnemy += 1;
}

void delEnemy(uint8_t index) {
	curEnemy -= 1;
	curEnemyArr[index] = curEnemyArr[curEnemy];

}

// Shape ship = (Shape){
// 	{
// 	{{0, -3}, 0x000000FF},
// 	{{0, -2}, 0x000000FF},
// 	{{-1, -1}, 0x000000FF}, {{0, -1}, 0x000000FF}, {{1, -1}, 0x000000FF},
// 	{{-1, 0}, 0x000000FF}, {{0, 0}, 0x000000FF}, {{1, 0}, 0x000000FF},
// 	{{-2, 1}, 0x000000FF}, {{-1, 1}, 0x000000FF}, {{0, 1}, 0x000000FF}, {{1, 1}, 0x000000FF}, {{2, 1}, 0x000000FF},
// 	{{-2, 2}, 0x000000FF}, {{-1, 2}, 0x000000FF}, {{0, 2}, 0x000000FF}, {{1, 2}, 0x000000FF}, {{2, 2}, 0x000000FF}
// 	}, 18
	
// };

Object ship = (Object){
	{500, 600},
	Ship
};

// Object enemy = (Object){
// 	{200, 300},
// 	Enemy
// };

Shape objectShapes[3] = { 
	(Shape){{
	{{-4, 4}, 0x000000FF},{{4, 4}, 0x000000FF},
	{{-4, 3}, 0x000000FF},{{4, 3}, 0x000000FF}, {{-1, 3}, 0x00FF0000},{{1, 3}, 0x00FF0000},
	{{-4, 2}, 0x000000FF},{{4, 2}, 0x000000FF}, {{-1, 2}, 0x000000FF},{{1, 2}, 0x000000FF},{{-2, 2}, 0xFFFFFFFF},{{0, 2}, 0xFFFFFFFF},{{2, 2}, 0xFFFFFFFF},
	{{-4, 1}, 0x000000FF},{{4, 1}, 0x000000FF}, {{-1, 1}, 0xFFFFFFFF},{{1, 1}, 0xFFFFFFFF},{{-2, 1}, 0xFFFFFFFF},{{0, 1}, 0xFFFFFFFF},{{2, 1}, 0xFFFFFFFF},
	{{-4, 0}, 0x000000FF},{{4, 0}, 0x000000FF}, {{-1, 0}, 0xFFFFFFFF},{{1, 0}, 0xFFFFFFFF},{{-2, 0}, 0x000000FF},{{0, 0}, 0xFFFFFFFF},{{2, 0}, 0x000000FF},{{-3, 0}, 0x000000FF},{{3, 0}, 0x000000FF},
	{{-1, -1}, 0x00FF0000},{{1, -1}, 0x00FF0000},{{-2, -1}, 0x000000FF},{{0, -1}, 0x00FF0000},{{2, -1}, 0x000000FF},{{-3, -1}, 0x000000FF},{{3, -1}, 0x000000FF},
	{{-4, -2}, 0x000000FF},{{4, -2}, 0x000000FF}, {{-1, -2}, 0xFFFFFFFF},{{1, -2}, 0xFFFFFFFF},{{-2, -2}, 0x000000FF},{{0, -2}, 0xFFFFFFFF},{{2, -2}, 0x000000FF},{{-3, -2}, 0x000000FF},{{3, -2}, 0x000000FF},
	{{-4, -3}, 0x000000FF},{{4, -3}, 0x000000FF}, {{-1, -3}, 0x00FF0000},{{1, -3}, 0x00FF0000},{{0, -3}, 0x00FF0000}, {{-3, -3}, 0x000000FF}, {{3, -3}, 0x000000FF},
	{{-4,-4}, 0x000000FF},{{4,-4}, 0x000000FF}, {{0,-4}, 0x00FF0000},{{-3, -4}, 0x000000FF},{{3, -4}, 0x000000FF},
	}, 57},
	(Shape){{
		{{0, -3}, 0x000000FF},
		{{0, -2}, 0x000000FF},
		{{-1, -1}, 0x000000FF}, {{0, -1}, 0x000000FF}, {{1, -1}, 0x000000FF},
		{{-1, 0}, 0x000000FF}, {{0, 0}, 0x000000FF}, {{1, 0}, 0x000000FF},
		{{-2, 1}, 0x000000FF}, {{-1, 1}, 0x000000FF}, {{0, 1}, 0x000000FF}, {{1, 1}, 0x000000FF}, {{2, 1}, 0x000000FF},
		{{-2, 2}, 0x000000FF}, {{-1, 2}, 0x000000FF}, {{0, 2}, 0x000000FF}, {{1, 2}, 0x000000FF}, {{2, 2}, 0x000000FF}
		}, 18	
	},
	(Shape){
		{{{0, 0}, 0x000000FF}}, 1}
};

Point objectSize[3] = { 
	(Point){(9*PIXEL_SIZE)/2,(9*PIXEL_SIZE)/2},
	(Point){0,0},
	(Point){0,0}
};

Point enemyPath[120] = {{510.841, 684.745}, {496.796, 679.484}, {483.052, 673.479}, {469.65, 666.746}, {456.628, 659.305}, {444.023, 651.178}, {431.871, 642.387}, {420.207, 632.958}, {409.065, 622.919}, {398.476, 612.297}, 
	{388.471, 601.123}, {379.079, 589.429}, {370.327, 577.25}, {362.239, 564.619}, {354.839, 551.574}, {348.149, 538.15}, {342.186, 524.388}, {336.97, 510.327}, {332.513, 496.006}, {328.83, 481.467}, 
	{325.931, 466.751}, {323.823, 451.902}, //{322.514, 436.961}, 
	{323, 424}, {324.601, 409.115}, {329.331, 394.91}, {336.973, 382.036}, {347.178, 371.082}, {359.479, 362.548}, {373.313, 356.825}, {388.048, 354.175}, {403.01, 354.719}, {417.513, 358.433}, 
	{430.896, 365.145}, {442.544, 374.549}, {451.927, 386.216}, {458.614, 399.611}, {462.299, 414.122}, {462.815, 429.084}, {460.137, 443.814}, {454.388, 457.637}, {445.831, 469.922}, {434.858, 480.107}, 
	{421.969, 487.724}, {407.756, 492.427}, {392.867, 494}, {377.985, 492.371}, {363.789, 487.614}, {350.93, 479.947}, {339.995, 469.722}, {331.485, 457.404}, {325.788, 443.559}, 
	{325.788, 424}, {325.788, 409}, {325.788, 394}, {325.788, 379}, {325.788, 364}, {325.788, 349}, {325.788, 334}, {325.788, 319}, {325.788, 304}, {325.788, 289}, 
	{325.788, 274}, {325.788, 259}, {325.788, 244}, {325.788, 229}, {325.788, 214}, {325.788, 199}, {325.788, 184}, {325.788, 169}, {325.788, 154}, {325.788, 139}, 
	{325.788, 124}, {325.788, 109}, {325.788, 94}, {325.788, 79}, {325.788, 64}, {325.788, 49}, {325.788, 34}, {325.788, 19}, {325.788, 4}};
