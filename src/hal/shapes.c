
#include <stdint.h>
#include <stdbool.h>
#include <stddef.h>
#include "shapes.h"


// uint32_t charSize = 20;

void shapes_init(void){


	for(uint8_t i = 0; i < MAX_BULLETS; i++) {
		bulletArr[i] = (Object){{0, -10},Bullet};
	}

	for(uint8_t i = 0; i < MAX_ENEMIES; i++) {
		enemyArr[i] = (Object){{0, -10},Enemy};
	}



	enemyArr[MAX_ENEMIES-1] = (Object){{200, 300},Enemy};
	enemyArr[MAX_ENEMIES-2] = (Object){{300, 400},Enemy};
	curEnemyArr[0] = MAX_ENEMIES-1;
	for(uint8_t i = 0; i < MAX_ENEMIES; i++) {
		if(enemyArr[i].origin.y != -10) {
			addEnemy(i);
		}
	}

}

void addEnemy(uint8_t index) {
	curEnemyArr[curEnemy] = index;
	curEnemy += 1;
}

void delEnemy(uint8_t index) {
	curEnemy -= 1;
	curEnemyArr[index] = curEnemyArr[curEnemy];

}

// Shape ship = (Shape){
// 	{
// 	{{0, -3}, 0x000000FF},
// 	{{0, -2}, 0x000000FF},
// 	{{-1, -1}, 0x000000FF}, {{0, -1}, 0x000000FF}, {{1, -1}, 0x000000FF},
// 	{{-1, 0}, 0x000000FF}, {{0, 0}, 0x000000FF}, {{1, 0}, 0x000000FF},
// 	{{-2, 1}, 0x000000FF}, {{-1, 1}, 0x000000FF}, {{0, 1}, 0x000000FF}, {{1, 1}, 0x000000FF}, {{2, 1}, 0x000000FF},
// 	{{-2, 2}, 0x000000FF}, {{-1, 2}, 0x000000FF}, {{0, 2}, 0x000000FF}, {{1, 2}, 0x000000FF}, {{2, 2}, 0x000000FF}
// 	}, 18
	
// };

Object ship = (Object){
	{500, 600},
	Ship
};

// Object enemy = (Object){
// 	{200, 300},
// 	Enemy
// };

Shape objectShapes[3] = { 
	(Shape){{
	{{-4, 4}, 0x000000FF},{{4, 4}, 0x000000FF},
	{{-4, 3}, 0x000000FF},{{4, 3}, 0x000000FF}, {{-1, 3}, 0x00FF0000},{{1, 3}, 0x00FF0000},
	{{-4, 2}, 0x000000FF},{{4, 2}, 0x000000FF}, {{-1, 2}, 0x000000FF},{{1, 2}, 0x000000FF},{{-2, 2}, 0xFFFFFFFF},{{0, 2}, 0xFFFFFFFF},{{2, 2}, 0xFFFFFFFF},
	{{-4, 1}, 0x000000FF},{{4, 1}, 0x000000FF}, {{-1, 1}, 0xFFFFFFFF},{{1, 1}, 0xFFFFFFFF},{{-2, 1}, 0xFFFFFFFF},{{0, 1}, 0xFFFFFFFF},{{2, 1}, 0xFFFFFFFF},
	{{-4, 0}, 0x000000FF},{{4, 0}, 0x000000FF}, {{-1, 0}, 0xFFFFFFFF},{{1, 0}, 0xFFFFFFFF},{{-2, 0}, 0x000000FF},{{0, 0}, 0xFFFFFFFF},{{2, 0}, 0x000000FF},{{-3, 0}, 0x000000FF},{{3, 0}, 0x000000FF},
	{{-1, -1}, 0x00FF0000},{{1, -1}, 0x00FF0000},{{-2, -1}, 0x000000FF},{{0, -1}, 0x00FF0000},{{2, -1}, 0x000000FF},{{-3, -1}, 0x000000FF},{{3, -1}, 0x000000FF},
	{{-4, -2}, 0x000000FF},{{4, -2}, 0x000000FF}, {{-1, -2}, 0xFFFFFFFF},{{1, -2}, 0xFFFFFFFF},{{-2, -2}, 0x000000FF},{{0, -2}, 0xFFFFFFFF},{{2, -2}, 0x000000FF},{{-3, -2}, 0x000000FF},{{3, -2}, 0x000000FF},
	{{-4, -3}, 0x000000FF},{{4, -3}, 0x000000FF}, {{-1, -3}, 0x00FF0000},{{1, -3}, 0x00FF0000},{{0, -3}, 0x00FF0000}, {{-3, -3}, 0x000000FF}, {{3, -3}, 0x000000FF},
	{{-4,-4}, 0x000000FF},{{4,-4}, 0x000000FF}, {{0,-4}, 0x00FF0000},{{-3, -4}, 0x000000FF},{{3, -4}, 0x000000FF},
	}, 57},
	(Shape){{
		{{0, -3}, 0x000000FF},
		{{0, -2}, 0x000000FF},
		{{-1, -1}, 0x000000FF}, {{0, -1}, 0x000000FF}, {{1, -1}, 0x000000FF},
		{{-1, 0}, 0x000000FF}, {{0, 0}, 0x000000FF}, {{1, 0}, 0x000000FF},
		{{-2, 1}, 0x000000FF}, {{-1, 1}, 0x000000FF}, {{0, 1}, 0x000000FF}, {{1, 1}, 0x000000FF}, {{2, 1}, 0x000000FF},
		{{-2, 2}, 0x000000FF}, {{-1, 2}, 0x000000FF}, {{0, 2}, 0x000000FF}, {{1, 2}, 0x000000FF}, {{2, 2}, 0x000000FF}
		}, 18	
	},
	(Shape){
		{{{0, 0}, 0x000000FF}}, 1}
};

Point objectSize[3] = { 
	(Point){18,18},
	(Point){0,0},
	(Point){0,0}
};

Point enemyPath[120] = {/*{510.841, 684.745}, {501.446, 681.321},*/ {492.179, 677.564}, {483.052, 673.479}, {474.077, 669.07}, {465.265, 664.343}, {456.628, 659.305}, {448.176, 653.962}, {439.92, 648.32}, {431.871, 642.387}, 
	{424.038, 636.171}, {416.433, 629.678}, {409.065, 622.919}, {401.942, 615.9}, {395.075, 608.632}, {388.471, 601.123}, {382.14, 593.383}, {376.089, 585.422}, {370.327, 577.25}, {364.86, 568.877}, 
	{359.695, 560.315}, {354.839, 551.574}, {350.299, 542.664}, {346.079, 533.599}, {342.186, 524.388}, {338.625, 515.045}, {335.399, 505.58}, {332.513, 496.006}, {329.971, 486.335}, {327.776, 476.579}, 
	{325.931, 466.751}, {324.437, 456.864}, {323.298, 446.93}, //{322.514, 436.961}, 
	{323, 424}, {323.713, 414.034}, {325.838, 404.271}, {329.331, 394.91}, {334.121, 386.142}, {340.111, 378.145}, {347.178, 371.082}, {355.179, 365.097}, {363.95, 360.312}, {373.313, 356.825}, 
	{383.078, 354.707}, {393.044, 354}, {403.01, 354.719}, {412.771, 356.85}, {422.13, 360.349}, {430.896, 365.145}, {438.889, 371.14}, {445.947, 378.211}, {451.927, 386.216}, {456.706, 394.991}, 
	{460.187, 404.356}, {462.299, 414.122}, {463, 424.089}, {462.274, 434.054}, {460.137, 443.814}, {456.632, 453.171}, {451.831, 461.933}, {445.831, 469.922}, {438.755, 476.976}, {430.747, 482.951}, 
	{421.969, 487.724}, {412.602, 491.2}, {402.835, 493.306}, {392.867, 494}, {382.903, 493.268}, {373.144, 491.125}, {363.789, 487.614}, {355.03, 482.807}, {347.044, 476.802}, {339.995, 469.722}, 
	{334.025, 461.709}, {329.257, 452.929}, {325.788, 443.559}, 
	{326.059, 434}, {326.059, 424}, {326.059, 414}, {326.059, 404}, {326.059, 394}, {326.059, 384}, {326.059, 374}, {326.059, 364}, {326.059, 354}, {326.059, 344},
	{326.059, 334}, {326.059, 324}, {326.059, 314}, {326.059, 304}, {326.059, 294}, {326.059, 284}, {326.059, 274}, {326.059, 264}, {326.059, 254}, {326.059, 244},
	{326.059, 234}, {326.059, 224}, {326.059, 214}, {326.059, 204}, {326.059, 194}, {326.059, 184}, {326.059, 174}, {326.059, 164}, {326.059, 154}, {326.059, 144}};
